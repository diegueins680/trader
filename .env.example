# Backend (optional; only needed for live/test trading endpoints)
BINANCE_API_KEY=
BINANCE_API_SECRET=
COINBASE_API_KEY=
COINBASE_API_SECRET=
COINBASE_API_PASSPHRASE=

# REST API auth token (recommended for any deployment)
# Generate with: openssl rand -hex 32
TRADER_API_TOKEN=
# Optional: set to the CloudFront origin to allow CORS from the UI (e.g., https://d123.cloudfront.net).
TRADER_CORS_ORIGIN=

# Required in production: shared state directory to persist combos/journal/bot state/async jobs/LSTM weights across deploys.
# Per-feature TRADER_*_DIR vars override this; set any of them empty to disable that feature.
TRADER_STATE_DIR=

# Required on App Runner: persist bot snapshots and optimizer top-combos to S3.
# Requires AWS credentials or an App Runner instance role with S3 access.
TRADER_STATE_S3_BUCKET=
TRADER_STATE_S3_PREFIX=
TRADER_STATE_S3_REGION=

# Required: Postgres connection for ops + combos persistence (powers GET /ops, combo metrics, strategy params).
# Example: postgresql://user:pass@host:5432/trader?sslmode=require
TRADER_DB_URL=

# Optional: persist live bot status snapshots across restarts.
TRADER_BOT_STATE_DIR=
# Optional: default live bot symbols (comma-separated) when botSymbols is not provided.
TRADER_BOT_SYMBOLS=
# Optional: live bot top-combo poll interval in seconds (default: 30).
TRADER_BOT_COMBOS_POLL_SEC=30

# Optional: persist optimizer top-combos.json across restarts/deploys.
TRADER_OPTIMIZER_COMBOS_DIR=
# Optional: cap optimizer top-combos.json length (default: 200).
TRADER_OPTIMIZER_MAX_COMBOS=
# Optional: archive top-combos.json snapshots (default: <combos dir>/top-combos-history; set to off/false/0 to disable).
TRADER_OPTIMIZER_COMBOS_HISTORY_DIR=

# Optional: in-memory API caching (helpful for the Web UIâ€™s repeated calls).
TRADER_API_CACHE_TTL_MS=30000
TRADER_API_CACHE_MAX_ENTRIES=64

# Optional: override Binance REST base URLs (useful if api.binance.com is unreachable).
TRADER_BINANCE_REST_URL=
TRADER_BINANCE_TESTNET_REST_URL=
TRADER_BINANCE_FUTURES_REST_URL=
TRADER_BINANCE_FUTURES_TESTNET_REST_URL=
# Optional: route Binance HTTP requests through a fixed-IP proxy (http://user:pass@host:port).
TRADER_BINANCE_PROXY_URL=

# Optional: HTTP retry/backoff tuning.
TRADER_HTTP_RETRY_MAX=5
TRADER_HTTP_RETRY_BASE_MS=300
TRADER_HTTP_RETRY_MAX_MS=12000
TRADER_HTTP_RETRY_JITTER=0.25
TRADER_HTTP_RETRY_WRITES=false

# Optional: cap API request payload sizes and optimizer output in responses.
TRADER_API_MAX_BODY_BYTES=1048576
TRADER_API_MAX_OPTIMIZER_OUTPUT_BYTES=20000

# Optional: API compute limits (defaults: bars=1000, epochs=100, hidden=32).
TRADER_API_MAX_BARS_LSTM=1000
TRADER_API_MAX_EPOCHS=100
TRADER_API_MAX_HIDDEN_SIZE=50

# Optional: persist async jobs to disk (default: .tmp/async; set empty to disable).
TRADER_API_ASYNC_DIR=

# Optional: write JSONL journal events to disk.
TRADER_JOURNAL_DIR=

# Optional: webhook notifications (Discord-compatible).
TRADER_WEBHOOK_URL=
# Optional: comma-separated event types to send (defaults to all webhook events).
TRADER_WEBHOOK_EVENTS=bot.started,bot.start_failed,bot.stop,bot.order,bot.halt,trade.order

# Optional: persist LSTM weights between runs (set empty to disable).
TRADER_LSTM_WEIGHTS_DIR=.tmp/lstm
